# Copie este arquivo para .env na raiz do repositório (opcional)
# Ele é usado principalmente pelo docker-compose.yml da raiz.

# -----------------------------
# Backend
# -----------------------------

# Envs para settar ambiente do Backend
NODE_ENV=development
PORT=8080
# Base pública da API (somente a ORIGEM: protocolo + host + porta). Evite path (ex: /docs) e '/' no final.
PUBLIC_API_URL=http://localhost:8080

# Database (padrão do Docker Compose)
# Observação: o compose da raiz usa DOCKER_* para não conflitar com DATABASE_URL/DIRECT_URL do seu sistema.
DOCKER_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/studyhelper?schema=public
DOCKER_DIRECT_URL=postgresql://postgres:postgres@postgres:5432/studyhelper?schema=public

#Pdf microservice (opcional)
PDF_ENABLED=false
PDF_SERVICE_URL=http://pdf-microservice:3000

# Warm-up do microserviço PDF (opcional; útil para cold start no Render)
# Defaults no código:
# - PDF_HEALTH_PATH=/health
# - PDF_WARMUP_MAX_TOTAL_MS=240000 (4 min)
# - PDF_WARMUP_INTERVAL_MS=5000
# - PDF_WARMUP_TIMEOUT_MS=5000
PDF_WARMUP_ENABLED=false
PDF_HEALTH_PATH=/health
PDF_WARMUP_MAX_TOTAL_MS=240000
PDF_WARMUP_INTERVAL_MS=5000
PDF_WARMUP_TIMEOUT_MS=5000

# Requests de geração de PDF (opcional) - defaults no código:
# - PDF_REQUEST_MAX_RETRIES=6
# - PDF_REQUEST_TIMEOUT_MS=10000
# - PDF_REQUEST_BASE_DELAY_MS=3000
# - PDF_REQUEST_MAX_TOTAL_MS=60000
PDF_REQUEST_MAX_RETRIES=6
PDF_REQUEST_TIMEOUT_MS=10000
PDF_REQUEST_BASE_DELAY_MS=3000
PDF_REQUEST_MAX_TOTAL_MS=60000

# Envs para alterar para o caso de criação não local do microserviço PDF e do Redis
PDF_SERVICE_PUBLIC_API_URL=http://localhost:3005
PDF_PORT=3005
REDIS_URL=redis://pdf-redis:6379

# Auth
# Exemplo (base64): node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=dev_jwt_secret_change_me

# CORS / Frontend origin
# Somente a ORIGEM (protocolo + host + porta)
FRONTEND_URL=http://localhost:3000

# Google Calendar (Opcional)
# O sistema funciona sem Google Calendar.
# Preencha apenas se for usar /integrations/google/*
GOOGLE_CLIENT_ID=id_do_cliente_google_aqui
GOOGLE_CLIENT_SECRET=token_secreto_google_aqui
GOOGLE_REDIRECT_URI=http://localhost:8080/integrations/google/oauth/callback
GOOGLE_CALENDAR_APP_NAME=Study Helper
GOOGLE_OAUTH_REDIRECT_PATH=/profile

# Necessário apenas se for armazenar refresh token do Google (32 bytes em base64 ou hex)
# Exemplo (base64): node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
GOOGLE_TOKEN_ENCRYPTION_KEY=dev_google_token_encryption_key_change_me
# -----------------------------
# Frontend
# -----------------------------
NEXT_PUBLIC_API_URL=http://localhost:8080

# -----------------------------
# Postgres (Compose)
# -----------------------------
POSTGRES_DB=studyhelper
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432
