# ========================================
# TEST Environment Variables
# Study Helper Backend - CI/CD Testing
# Created: 2025-11-11
# Author: Juandbpimentel
# ========================================
# Este arquivo é usado para testes de integração no CI/CD (GitHub Actions).
# 
# COMO USAR:
# - No GitHub Actions, estas variáveis são configuradas no workflow
# - Para testes locais, copie: cp .env.test.example .env.test
# - Execute: SPRING_PROFILES_ACTIVE=test ./gradlew test integrationTest
# 
# NOTA: Este arquivo é configurado automaticamente pelo GitHub Actions
# ========================================

# ========================================
# Application Configuration
# ========================================
SPRING_PROFILES_ACTIVE=test

# ========================================
# Server Configuration
# ========================================
SERVER_PORT=8080

# ========================================
# Database Configuration - PostgreSQL
# ========================================
# Para CI/CD (GitHub Actions):
# - O PostgreSQL é iniciado como serviço no workflow
# - Estas variáveis são configuradas automaticamente
#
# Para testes locais:
# - Use um banco de dados separado para testes
# - Ou use Testcontainers (recomendado)
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/studyhelper_test
SPRING_DATASOURCE_USERNAME=test_user
SPRING_DATASOURCE_PASSWORD=test_password

# ========================================
# JWT Configuration
# ========================================
# Para testes, use um valor fixo e simples
JWT_SECRET=test-secret-key-minimum-256-bits-for-testing-only
JWT_EXPIRATION=86400000

# ========================================
# CORS Configuration
# ========================================
ALLOWED_ORIGINS=http://localhost:3000

# ========================================
# Logging Configuration
# ========================================
# Em testes, mostre informações úteis para debug
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_STUDYHELPER=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_SQL=DEBUG

# ========================================
# Test Specific Configuration
# ========================================
# Estas configurações são específicas para o ambiente de teste
SPRING_JPA_SHOW_SQL=true
SPRING_FLYWAY_ENABLED=true
SPRING_FLYWAY_BASELINE_ON_MIGRATE=true

# ========================================
# GitHub Actions Configuration
# ========================================
# No GitHub Actions, o workflow configura automaticamente:
# - SPRING_DATASOURCE_URL (aponta para o serviço PostgreSQL)
# - SPRING_DATASOURCE_USERNAME (test_user)
# - SPRING_DATASOURCE_PASSWORD (test_password)
#
# Veja: .github/workflows/backend-ci-cd.yml
# Veja: .github/workflows/backend-test-pr.yml
