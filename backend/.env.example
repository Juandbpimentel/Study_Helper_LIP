# Backend local development
NODE_ENV=development
PORT=8080
PUBLIC_API_URL=http://localhost:8080

# Database (desenvolvimento local na máquina)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/studyhelper
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/studyhelper

#Pdf microservice (opcional)
PDF_ENABLED=false
PDF_SERVICE_URL=http://pdf-microservice:3000

# Warm-up do microserviço PDF (opcional; útil para cold start no Render)
# Defaults no código:
# - PDF_HEALTH_PATH=/health
# - PDF_WARMUP_MAX_TOTAL_MS=240000 (4 min)
# - PDF_WARMUP_INTERVAL_MS=5000
# - PDF_WARMUP_TIMEOUT_MS=5000
PDF_WARMUP_ENABLED=false
PDF_HEALTH_PATH=/health
PDF_WARMUP_MAX_TOTAL_MS=240000
PDF_WARMUP_INTERVAL_MS=5000
PDF_WARMUP_TIMEOUT_MS=5000

# Requests de geração de PDF (opcional) - defaults no código:
# - PDF_REQUEST_MAX_RETRIES=6
# - PDF_REQUEST_TIMEOUT_MS=10000
# - PDF_REQUEST_BASE_DELAY_MS=3000
# - PDF_REQUEST_MAX_TOTAL_MS=60000
PDF_REQUEST_MAX_RETRIES=6
PDF_REQUEST_TIMEOUT_MS=10000
PDF_REQUEST_BASE_DELAY_MS=3000
PDF_REQUEST_MAX_TOTAL_MS=60000

# Envs para alterar para o caso de criação não local do microserviço PDF e do Redis
PDF_SERVICE_PUBLIC_API_URL=http://localhost:3005
PDF_PORT=3005
REDIS_URL=redis://pdf-redis:6379

# Auth
JWT_SECRET=dev_jwt_secret_change_me

# Docker Compose local (backend/docker-compose.yml)
# Para sobrescrever o DB usado dentro do container sem conflitar com o seu DATABASE_URL local:
# LOCAL_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/studyhelper?schema=public
# LOCAL_DIRECT_URL=postgresql://postgres:postgres@postgres:5432/studyhelper?schema=public

# CORS / Frontend origin
FRONTEND_URL=http://localhost:3000

# Cookies
# Para dev normalmente não precisa mexer.
# IMPORTANTE:
# - Em produção, cookies cross-site exigem HTTPS (Secure=true) e geralmente SameSite=None.
# - COOKIE_DOMAIN só faz sentido se você controla o domínio pai (ex: .example.com).
COOKIE_DOMAIN=
# none|lax|strict (default no código: production -> none; dev -> lax)
COOKIE_SAMESITE=
# true|false (default no código: production -> true; dev -> false)
COOKIE_SECURE=
# Dias para expirar o cookie (default no código: 7)
COOKIE_EXPIRES_DAYS=

# Prisma/PG Pool (ajuste fino de conexão/timeout)
# Defaults no código:
# - PRISMA_POOL_MAX=20
# - PRISMA_CONNECTION_TIMEOUT_MS=5000
# - PRISMA_IDLE_TIMEOUT_MS=30000
# - PRISMA_STATEMENT_TIMEOUT_MS=15000
PRISMA_POOL_MAX=
PRISMA_CONNECTION_TIMEOUT_MS=
PRISMA_IDLE_TIMEOUT_MS=
PRISMA_STATEMENT_TIMEOUT_MS=

# Google Calendar OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8080/integrations/google/oauth/callback
GOOGLE_CALENDAR_APP_NAME=Study Helper
# 32 bytes em base64 ou hex (NÃO commitar)
GOOGLE_TOKEN_ENCRYPTION_KEY=
